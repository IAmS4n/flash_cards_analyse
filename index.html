<!DOCTYPE html>
<meta charset="utf-8">
<style type="text/css">
body {
  font-family: sans-serif;
}

/* Base for label styling */
  [type="checkbox"]:not(:checked),
  [type="checkbox"]:checked {
    position: absolute;
    left: 0;
    opacity: 0.01;
  }
  [type="checkbox"]:not(:checked) + label,
  [type="checkbox"]:checked + label {
    position: relative;
    padding-left: 2.3em;
    font-size: 1.05em;
    line-height: 1.7;
    cursor: pointer;
  }

  /* checkbox aspect */
  [type="checkbox"]:not(:checked) + label:before,
  [type="checkbox"]:checked + label:before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    width: 1.4em;
    height: 1.4em;
    border: 1px solid #aaa;
    background: #FFF;
    border-radius: .2em;
    box-shadow: inset 0 1px 3px rgba(0,0,0, .1), 0 0 0 rgba(203, 34, 237, .2);
    -webkit-transition: all .275s;
        transition: all .275s;
  }

  /* checked mark aspect */
  [type="checkbox"]:not(:checked) + label:after,
  [type="checkbox"]:checked + label:after {
    content: 'âœ•';
    position: absolute;
    top: .525em;
    left: .18em;
    font-size: 1.375em;
    color: #16A085;
    line-height: 0;
    -webkit-transition: all .2s;
        transition: all .2s;
  }

  /* checked mark aspect changes */
  [type="checkbox"]:not(:checked) + label:after {
    opacity: 0;
    -webkit-transform: scale(0) rotate(45deg);
        transform: scale(0) rotate(45deg);
  }

  [type="checkbox"]:checked + label:after {
    opacity: 1;
    -webkit-transform: scale(1) rotate(0);
        transform: scale(1) rotate(0);
  }

  /* Disabled checkbox */
  [type="checkbox"]:disabled:not(:checked) + label:before,
  [type="checkbox"]:disabled:checked + label:before {
    box-shadow: none;
    border-color: #bbb;
    background-color: #e9e9e9;
  }

  [type="checkbox"]:disabled:checked + label:after {
    color: #777;
  }

  [type="checkbox"]:disabled + label {
    color: #aaa;
  }

  /* Accessibility */
  [type="checkbox"]:checked:focus + label:before,
  [type="checkbox"]:not(:checked):focus + label:before {
    box-shadow: inset 0 1px 3px rgba(0,0,0, .1), 0 0 0 6px rgba(34, 203, 237, .2);
  }

  .checkboxes {
  text-align:center;
}

</style>


<div align="center">
  <input id="ckb0" type="checkbox" class="checkbox" value="flash4000" checked="checked" /><label for="ckb0" >flash4000</label>
  <input id="ckb1" type="checkbox" class="checkbox" value="flash1212" /><label for="ckb1" >flash1212</label>
  <input id="ckb2" type="checkbox" class="checkbox" value="flash504" /><label for="ckb2" >flash504</label>
  <input id="ckb3" type="checkbox" class="checkbox" value="flash400" /><label for="ckb3" >flash400</label>
  <input id="ckb4" type="checkbox" class="checkbox" value="flash500" /><label for="ckb4" >flash500</label>
  <input id="ckb5" type="checkbox" class="checkbox" value="flash1800" /><label for="ckb5" >flash1800</label>
  <input id="ckb6" type="checkbox" class="checkbox" value="flash505" /><label for="ckb6" >flash505</label>
</div>
<!-- Create a div where the graph will take place -->
<center><div id="intersections"></div></center>
<center><div id="hardness_distribution"></div></center>



<script src="https://d3js.org/d3.v6.js"></script>


<script>

const intersections_data_all = {'flash1212_flash1800_flash400_flash4000_flash500_flash504_flash505': {'1212-1800-400-4000-500-504': 4, '1212-1800-400-4000-500-505': 5, '1212-1800-400-4000-504-505': 3, '1212-1800-4000-500-504-505': 1, '1212-400-4000-500-504-505': 1, '1212-1800-400-4000-500': 5, '1212-1800-400-4000-504': 5, '1212-1800-400-4000-505': 6, '1212-1800-400-500-505': 3, '1212-1800-4000-500-504': 15, '1212-1800-4000-500-505': 20, '1212-1800-4000-504-505': 7, '1212-1800-500-504-505': 3, '1212-400-4000-500-504': 3, '1212-400-4000-500-505': 2, '1212-400-4000-504-505': 1, '1212-4000-500-504-505': 3, '1800-400-4000-500-504': 1, '1800-400-4000-500-505': 1, '1800-400-4000-504-505': 1, '1800-4000-500-504-505': 2, '1212-1800-400-4000': 11, '1212-1800-400-505': 4, '1212-1800-4000-500': 24, '1212-1800-4000-504': 17, '1212-1800-4000-505': 37, '1212-1800-500-505': 22, '1212-1800-504-505': 7, '1212-400-4000-500': 9, '1212-400-4000-504': 4, '1212-400-4000-505': 6, '1212-4000-500-504': 9, '1212-4000-500-505': 12, '1212-4000-504-505': 5, '1212-500-504-505': 1, '1800-400-4000-500': 5, '1800-400-4000-504': 8, '1800-400-4000-505': 1, '1800-4000-500-504': 5, '1800-4000-500-505': 5, '1800-4000-504-505': 7, '1800-500-504-505': 1, '400-4000-500-505': 1, '400-4000-504-505': 1, '4000-500-504-505': 1, '1212-1800-400': 4, '1212-1800-4000': 95, '1212-1800-500': 14, '1212-1800-504': 4, '1212-1800-505': 62, '1212-400-4000': 23, '1212-400-500': 2, '1212-400-505': 5, '1212-4000-500': 40, '1212-4000-504': 27, '1212-4000-505': 31, '1212-500-504': 1, '1212-500-505': 10, '1212-504-505': 4, '1800-400-4000': 28, '1800-400-500': 2, '1800-400-504': 4, '1800-400-505': 1, '1800-4000-500': 20, '1800-4000-504': 35, '1800-4000-505': 13, '1800-500-504': 1, '1800-500-505': 4, '1800-504-505': 2, '400-4000-500': 5, '400-4000-504': 9, '400-4000-505': 6, '400-500-505': 1, '4000-500-504': 10, '4000-500-505': 3, '4000-504-505': 4, '500-504-505': 1, '1212-1800': 76, '1212-400': 8, '1212-4000': 213, '1212-500': 10, '1212-504': 10, '1212-505': 80, '1800-400': 25, '1800-4000': 306, '1800-500': 27, '1800-504': 39, '1800-505': 14, '400-4000': 60, '400-500': 2, '400-504': 5, '400-505': 4, '4000-500': 61, '4000-504': 135, '4000-505': 18, '500-504': 8, '500-505': 2, '504-505': 6, '1212': 273, '1800': 785, '400': 119, '4000': 2139, '500': 113, '504': 211, '505': 60}, 'flash1212_flash1800_flash400_flash4000_flash500_flash504': {'1212-1800-400-4000-500-504': 4, '1212-1800-400-4000-500': 10, '1212-1800-400-4000-504': 8, '1212-1800-4000-500-504': 16, '1212-400-4000-500-504': 4, '1800-400-4000-500-504': 1, '1212-1800-400-4000': 17, '1212-1800-400-500': 3, '1212-1800-4000-500': 44, '1212-1800-4000-504': 24, '1212-1800-500-504': 3, '1212-400-4000-500': 11, '1212-400-4000-504': 5, '1212-4000-500-504': 12, '1800-400-4000-500': 6, '1800-400-4000-504': 9, '1800-4000-500-504': 7, '1212-1800-400': 8, '1212-1800-4000': 132, '1212-1800-500': 36, '1212-1800-504': 11, '1212-400-4000': 29, '1212-400-500': 2, '1212-4000-500': 52, '1212-4000-504': 32, '1212-500-504': 2, '1800-400-4000': 29, '1800-400-500': 2, '1800-400-504': 4, '1800-4000-500': 25, '1800-4000-504': 42, '1800-500-504': 2, '400-4000-500': 6, '400-4000-504': 10, '4000-500-504': 11, '1212-1800': 138, '1212-400': 13, '1212-4000': 244, '1212-500': 20, '1212-504': 14, '1800-400': 26, '1800-4000': 319, '1800-500': 31, '1800-504': 41, '400-4000': 66, '400-500': 3, '400-504': 5, '4000-500': 64, '4000-504': 139, '500-504': 9, '1212': 353, '1800': 799, '400': 123, '4000': 2157, '500': 115, '504': 217}, 'flash1212_flash1800_flash400_flash4000_flash500_flash505': {'1212-1800-400-4000-500-505': 5, '1212-1800-400-4000-500': 9, '1212-1800-400-4000-505': 9, '1212-1800-400-500-505': 3, '1212-1800-4000-500-505': 21, '1212-400-4000-500-505': 3, '1800-400-4000-500-505': 1, '1212-1800-400-4000': 16, '1212-1800-400-505': 4, '1212-1800-4000-500': 39, '1212-1800-4000-505': 44, '1212-1800-500-505': 25, '1212-400-4000-500': 12, '1212-400-4000-505': 7, '1212-4000-500-505': 15, '1800-400-4000-500': 6, '1800-400-4000-505': 2, '1800-4000-500-505': 7, '400-4000-500-505': 1, '1212-1800-400': 4, '1212-1800-4000': 112, '1212-1800-500': 14, '1212-1800-505': 69, '1212-400-4000': 27, '1212-400-500': 2, '1212-400-505': 5, '1212-4000-500': 49, '1212-4000-505': 36, '1212-500-505': 11, '1800-400-4000': 36, '1800-400-500': 2, '1800-400-505': 1, '1800-4000-500': 25, '1800-4000-505': 20, '1800-500-505': 5, '400-4000-500': 5, '400-4000-505': 7, '400-500-505': 1, '4000-500-505': 4, '1212-1800': 80, '1212-400': 8, '1212-4000': 240, '1212-500': 11, '1212-505': 84, '1800-400': 29, '1800-4000': 341, '1800-500': 28, '1800-505': 16, '400-4000': 69, '400-500': 2, '400-505': 4, '4000-500': 71, '4000-505': 22, '500-505': 3, '1212': 283, '1800': 824, '400': 124, '4000': 2274, '500': 121, '505': 66}, 'flash1212_flash1800_flash400_flash4000_flash500': {'1212-1800-400-4000-500': 14, '1212-1800-400-4000': 25, '1212-1800-400-500': 3, '1212-1800-4000-500': 60, '1212-400-4000-500': 15, '1800-400-4000-500': 7, '1212-1800-400': 8, '1212-1800-4000': 156, '1212-1800-500': 39, '1212-400-4000': 34, '1212-400-500': 2, '1212-4000-500': 64, '1800-400-4000': 38, '1800-400-500': 2, '1800-4000-500': 32, '400-4000-500': 6, '1212-1800': 149, '1212-400': 13, '1212-4000': 276, '1212-500': 22, '1800-400': 30, '1800-4000': 361, '1800-500': 33, '400-4000': 76, '400-500': 3, '4000-500': 75, '1212': 367, '1800': 840, '400': 128, '4000': 2296, '500': 124}, 'flash1212_flash1800_flash400_flash4000_flash504_flash505': {'1212-1800-400-4000-504-505': 3, '1212-1800-400-4000-504': 9, '1212-1800-400-4000-505': 11, '1212-1800-4000-504-505': 8, '1212-400-4000-504-505': 2, '1800-400-4000-504-505': 1, '1212-1800-400-4000': 16, '1212-1800-400-505': 7, '1212-1800-4000-504': 32, '1212-1800-4000-505': 57, '1212-1800-504-505': 10, '1212-400-4000-504': 7, '1212-400-4000-505': 8, '1212-4000-504-505': 8, '1800-400-4000-504': 9, '1800-400-4000-505': 2, '1800-4000-504-505': 9, '400-4000-504-505': 1, '1212-1800-400': 4, '1212-1800-4000': 119, '1212-1800-504': 4, '1212-1800-505': 84, '1212-400-4000': 32, '1212-400-505': 5, '1212-4000-504': 36, '1212-4000-505': 43, '1212-504-505': 5, '1800-400-4000': 33, '1800-400-504': 4, '1800-400-505': 1, '1800-4000-504': 40, '1800-4000-505': 18, '1800-504-505': 3, '400-4000-504': 9, '400-4000-505': 7, '4000-504-505': 5, '1212-1800': 90, '1212-400': 10, '1212-4000': 253, '1212-504': 11, '1212-505': 90, '1800-400': 27, '1800-4000': 326, '1800-504': 40, '1800-505': 18, '400-4000': 65, '400-504': 5, '400-505': 5, '4000-504': 145, '4000-505': 21, '504-505': 7, '1212': 283, '1800': 812, '400': 121, '4000': 2200, '504': 219, '505': 62}, 'flash1212_flash1800_flash400_flash4000_flash504': {'1212-1800-400-4000-504': 12, '1212-1800-400-4000': 27, '1212-1800-4000-504': 40, '1212-400-4000-504': 9, '1800-400-4000-504': 10, '1212-1800-400': 11, '1212-1800-4000': 176, '1212-1800-504': 14, '1212-400-4000': 40, '1212-4000-504': 44, '1800-400-4000': 35, '1800-400-504': 4, '1800-4000-504': 49, '400-4000-504': 10, '1212-1800': 174, '1212-400': 15, '1212-4000': 296, '1212-504': 16, '1800-400': 28, '1800-4000': 344, '1800-504': 43, '400-4000': 72, '400-504': 5, '4000-504': 150, '1212': 373, '1800': 830, '400': 126, '4000': 2221, '504': 226}, 'flash1212_flash1800_flash400_flash4000_flash505': {'1212-1800-400-4000-505': 14, '1212-1800-400-4000': 25, '1212-1800-400-505': 7, '1212-1800-4000-505': 65, '1212-400-4000-505': 10, '1800-400-4000-505': 3, '1212-1800-400': 4, '1212-1800-4000': 151, '1212-1800-505': 94, '1212-400-4000': 39, '1212-400-505': 5, '1212-4000-505': 51, '1800-400-4000': 42, '1800-400-505': 1, '1800-4000-505': 27, '400-4000-505': 8, '1212-1800': 94, '1212-400': 10, '1212-4000': 289, '1212-505': 95, '1800-400': 31, '1800-4000': 366, '1800-505': 21, '400-4000': 74, '400-505': 5, '4000-505': 26, '1212': 294, '1800': 852, '400': 126, '4000': 2345, '505': 69}, 'flash1212_flash1800_flash400_flash4000': {'1212-1800-400-4000': 39, '1212-1800-400': 11, '1212-1800-4000': 216, '1212-400-4000': 49, '1800-400-4000': 45, '1212-1800': 188, '1212-400': 15, '1212-4000': 340, '1800-400': 32, '1800-4000': 393, '400-4000': 82, '1212': 389, '1800': 873, '400': 131, '4000': 2371}, 'flash1212_flash1800_flash400_flash500_flash504_flash505': {'1212-1800-400-500-504': 4, '1212-1800-400-500-505': 8, '1212-1800-400-504-505': 3, '1212-1800-500-504-505': 4, '1212-400-500-504-505': 1, '1212-1800-400-500': 5, '1212-1800-400-504': 5, '1212-1800-400-505': 10, '1212-1800-500-504': 15, '1212-1800-500-505': 42, '1212-1800-504-505': 14, '1212-400-500-504': 3, '1212-400-500-505': 2, '1212-400-504-505': 1, '1212-500-504-505': 4, '1800-400-500-504': 1, '1800-400-500-505': 1, '1800-400-504-505': 1, '1800-500-504-505': 3, '1212-1800-400': 15, '1212-1800-500': 38, '1212-1800-504': 21, '1212-1800-505': 99, '1212-400-500': 11, '1212-400-504': 4, '1212-400-505': 11, '1212-500-504': 10, '1212-500-505': 22, '1212-504-505': 9, '1800-400-500': 7, '1800-400-504': 12, '1800-400-505': 2, '1800-500-504': 6, '1800-500-505': 9, '1800-504-505': 9, '400-500-505': 2, '400-504-505': 1, '500-504-505': 2, '1212-1800': 171, '1212-400': 31, '1212-500': 50, '1212-504': 37, '1212-505': 111, '1800-400': 53, '1800-500': 47, '1800-504': 74, '1800-505': 27, '400-500': 7, '400-504': 14, '400-505': 10, '500-504': 18, '500-505': 5, '504-505': 10, '1212': 486, '1800': 1091, '400': 179, '500': 174, '504': 346, '505': 78}, 'flash1212_flash1800_flash400_flash500_flash504': {'1212-1800-400-500-504': 4, '1212-1800-400-500': 13, '1212-1800-400-504': 8, '1212-1800-500-504': 19, '1212-400-500-504': 4, '1800-400-500-504': 1, '1212-1800-400': 25, '1212-1800-500': 80, '1212-1800-504': 35, '1212-400-500': 13, '1212-400-504': 5, '1212-500-504': 14, '1800-400-500': 8, '1800-400-504': 13, '1800-500-504': 9, '1212-1800': 270, '1212-400': 42, '1212-500': 72, '1212-504': 46, '1800-400': 55, '1800-500': 56, '1800-504': 83, '400-500': 9, '400-504': 15, '500-504': 20, '1212': 597, '1800': 1118, '400': 189, '500': 179, '504': 356}, 'flash1212_flash1800_flash400_flash500_flash505': {'1212-1800-400-500-505': 8, '1212-1800-400-500': 9, '1212-1800-400-505': 13, '1212-1800-500-505': 46, '1212-400-500-505': 3, '1800-400-500-505': 1, '1212-1800-400': 20, '1212-1800-500': 53, '1212-1800-505': 113, '1212-400-500': 14, '1212-400-505': 12, '1212-500-505': 26, '1800-400-500': 8, '1800-400-505': 3, '1800-500-505': 12, '400-500-505': 2, '1212-1800': 192, '1212-400': 35, '1212-500': 60, '1212-505': 120, '1800-400': 65, '1800-500': 53, '1800-505': 36, '400-500': 7, '400-505': 11, '500-505': 7, '1212': 523, '1800': 1165, '400': 193, '500': 192, '505': 88}, 'flash1212_flash1800_flash400_flash500': {'1212-1800-400-500': 17, '1212-1800-400': 33, '1212-1800-500': 99, '1212-400-500': 17, '1800-400-500': 9, '1212-1800': 305, '1212-400': 47, '1212-500': 86, '1800-400': 68, '1800-500': 65, '400-500': 9, '1212': 643, '1800': 1201, '400': 204, '500': 199}, 'flash1212_flash1800_flash400_flash504_flash505': {'1212-1800-400-504-505': 3, '1212-1800-400-504': 9, '1212-1800-400-505': 18, '1212-1800-504-505': 18, '1212-400-504-505': 2, '1800-400-504-505': 1, '1212-1800-400': 20, '1212-1800-504': 36, '1212-1800-505': 141, '1212-400-504': 7, '1212-400-505': 13, '1212-504-505': 13, '1800-400-504': 13, '1800-400-505': 3, '1800-504-505': 12, '400-504-505': 1, '1212-1800': 209, '1212-400': 42, '1212-504': 47, '1212-505': 133, '1800-400': 60, '1800-504': 80, '1800-505': 36, '400-504': 14, '400-505': 12, '504-505': 12, '1212': 536, '1800': 1138, '400': 186, '504': 364, '505': 83}, 'flash1212_flash1800_flash400_flash504': {'1212-1800-400-504': 12, '1212-1800-400': 38, '1212-1800-504': 54, '1212-400-504': 9, '1800-400-504': 14, '1212-1800': 350, '1212-400': 55, '1212-504': 60, '1800-400': 63, '1800-504': 92, '400-504': 15, '1212': 669, '1800': 1174, '400': 198, '504': 376}, 'flash1212_flash1800_flash400_flash505': {'1212-1800-400-505': 21, '1212-1800-400': 29, '1212-1800-505': 159, '1212-400-505': 15, '1800-400-505': 4, '1212-1800': 245, '1212-400': 49, '1212-505': 146, '1800-400': 73, '1800-505': 48, '400-505': 13, '1212': 583, '1800': 1218, '400': 200, '505': 95}, 'flash1212_flash1800_flash400': {'1212-1800-400': 50, '1212-1800': 404, '1212-400': 64, '1800-400': 77, '1212': 729, '1800': 1266, '400': 213}, 'flash1212_flash1800_flash4000_flash500_flash504_flash505': {'1212-1800-4000-500-504-505': 1, '1212-1800-4000-500-504': 19, '1212-1800-4000-500-505': 25, '1212-1800-4000-504-505': 10, '1212-1800-500-504-505': 3, '1212-4000-500-504-505': 4, '1800-4000-500-504-505': 2, '1212-1800-4000-500': 29, '1212-1800-4000-504': 22, '1212-1800-4000-505': 43, '1212-1800-500-505': 25, '1212-1800-504-505': 7, '1212-4000-500-504': 12, '1212-4000-500-505': 14, '1212-4000-504-505': 6, '1212-500-504-505': 1, '1800-4000-500-504': 6, '1800-4000-500-505': 6, '1800-4000-504-505': 8, '1800-500-504-505': 1, '4000-500-504-505': 1, '1212-1800-4000': 106, '1212-1800-500': 14, '1212-1800-504': 4, '1212-1800-505': 66, '1212-4000-500': 49, '1212-4000-504': 31, '1212-4000-505': 37, '1212-500-504': 1, '1212-500-505': 10, '1212-504-505': 4, '1800-4000-500': 25, '1800-4000-504': 43, '1800-4000-505': 14, '1800-500-504': 1, '1800-500-505': 4, '1800-504-505': 2, '4000-500-504': 10, '4000-500-505': 4, '4000-504-505': 5, '500-504-505': 1, '1212-1800': 80, '1212-4000': 236, '1212-500': 12, '1212-504': 10, '1212-505': 85, '1800-4000': 334, '1800-500': 29, '1800-504': 43, '1800-505': 15, '4000-500': 66, '4000-504': 144, '4000-505': 24, '500-504': 8, '500-505': 3, '504-505': 6, '1212': 281, '1800': 810, '4000': 2199, '500': 115, '504': 216, '505': 64}, 'flash1212_flash1800_flash4000_flash500_flash504': {'1212-1800-4000-500-504': 20, '1212-1800-4000-500': 54, '1212-1800-4000-504': 32, '1212-1800-500-504': 3, '1212-4000-500-504': 16, '1800-4000-500-504': 8, '1212-1800-4000': 149, '1212-1800-500': 39, '1212-1800-504': 11, '1212-4000-500': 63, '1212-4000-504': 37, '1212-500-504': 2, '1800-4000-500': 31, '1800-4000-504': 51, '1800-500-504': 2, '4000-500-504': 11, '1212-1800': 146, '1212-4000': 273, '1212-500': 22, '1212-504': 14, '1800-4000': 348, '1800-500': 33, '1800-504': 45, '4000-500': 70, '4000-504': 149, '500-504': 9, '1212': 366, '1800': 825, '4000': 2223, '500': 118, '504': 222}, 'flash1212_flash1800_flash4000_flash500_flash505': {'1212-1800-4000-500-505': 26, '1212-1800-4000-500': 48, '1212-1800-4000-505': 53, '1212-1800-500-505': 28, '1212-4000-500-505': 18, '1800-4000-500-505': 8, '1212-1800-4000': 128, '1212-1800-500': 14, '1212-1800-505': 73, '1212-4000-500': 61, '1212-4000-505': 43, '1212-500-505': 11, '1800-4000-500': 31, '1800-4000-505': 22, '1800-500-505': 5, '4000-500-505': 5, '1212-1800': 84, '1212-4000': 267, '1212-500': 13, '1212-505': 89, '1800-4000': 377, '1800-500': 30, '1800-505': 17, '4000-500': 76, '4000-505': 29, '500-505': 4, '1212': 291, '1800': 853, '4000': 2343, '500': 123, '505': 70}, 'flash1212_flash1800_flash4000_flash500': {'1212-1800-4000-500': 74, '1212-1800-4000': 181, '1212-1800-500': 42, '1212-4000-500': 79, '1800-4000-500': 39, '1212-1800': 157, '1212-4000': 310, '1212-500': 24, '1800-4000': 399, '1800-500': 35, '4000-500': 81, '1212': 380, '1800': 870, '4000': 2372, '500': 127}, 'flash1212_flash1800_flash4000_flash504_flash505': {'1212-1800-4000-504-505': 11, '1212-1800-4000-504': 41, '1212-1800-4000-505': 68, '1212-1800-504-505': 10, '1212-4000-504-505': 10, '1800-4000-504-505': 10, '1212-1800-4000': 135, '1212-1800-504': 4, '1212-1800-505': 91, '1212-4000-504': 43, '1212-4000-505': 51, '1212-504-505': 5, '1800-4000-504': 49, '1800-4000-505': 20, '1800-504-505': 3, '4000-504-505': 6, '1212-1800': 94, '1212-4000': 285, '1212-504': 11, '1212-505': 95, '1800-4000': 359, '1800-504': 44, '1800-505': 19, '4000-504': 154, '4000-505': 28, '504-505': 7, '1212': 293, '1800': 839, '4000': 2265, '504': 224, '505': 67}, 'flash1212_flash1800_flash4000_flash504': {'1212-1800-4000-504': 52, '1212-1800-4000': 203, '1212-1800-504': 14, '1212-4000-504': 53, '1800-4000-504': 59, '1212-1800': 185, '1212-4000': 336, '1212-504': 16, '1800-4000': 379, '1800-504': 47, '4000-504': 160, '1212': 388, '1800': 858, '4000': 2293, '504': 231}, 'flash1212_flash1800_flash4000_flash505': {'1212-1800-4000-505': 79, '1212-1800-4000': 176, '1212-1800-505': 101, '1212-4000-505': 61, '1800-4000-505': 30, '1212-1800': 98, '1212-4000': 328, '1212-505': 100, '1800-4000': 408, '1800-505': 22, '4000-505': 34, '1212': 304, '1800': 883, '4000': 2419, '505': 74}, 'flash1212_flash1800_flash4000': {'1212-1800-4000': 255, '1212-1800': 199, '1212-4000': 389, '1800-4000': 438, '1212': 404, '1800': 905, '4000': 2453}, 'flash1212_flash1800_flash500_flash504_flash505': {'1212-1800-500-504-505': 4, '1212-1800-500-504': 19, '1212-1800-500-505': 50, '1212-1800-504-505': 17, '1212-500-504-505': 5, '1800-500-504-505': 3, '1212-1800-500': 43, '1212-1800-504': 26, '1212-1800-505': 109, '1212-500-504': 13, '1212-500-505': 24, '1212-504-505': 10, '1800-500-504': 7, '1800-500-505': 10, '1800-504-505': 10, '500-504-505': 2, '1212-1800': 186, '1212-500': 61, '1212-504': 41, '1212-505': 122, '1800-500': 54, '1800-504': 86, '1800-505': 29, '500-504': 18, '500-505': 7, '504-505': 11, '1212': 517, '1800': 1144, '500': 181, '504': 360, '505': 88}, 'flash1212_flash1800_flash500_flash504': {'1212-1800-500-504': 23, '1212-1800-500': 93, '1212-1800-504': 43, '1212-500-504': 18, '1800-500-504': 10, '1212-1800': 295, '1212-500': 85, '1212-504': 51, '1800-500': 64, '1800-504': 96, '500-504': 20, '1212': 639, '1800': 1173, '500': 188, '504': 371}, 'flash1212_flash1800_flash500_flash505': {'1212-1800-500-505': 54, '1212-1800-500': 62, '1212-1800-505': 126, '1212-500-505': 29, '1800-500-505': 13, '1212-1800': 212, '1212-500': 74, '1212-505': 132, '1800-500': 61, '1800-505': 39, '500-505': 9, '1212': 558, '1800': 1230, '500': 199, '505': 99}, 'flash1212_flash1800_flash500': {'1212-1800-500': 116, '1212-1800': 338, '1212-500': 103, '1800-500': 74, '1212': 690, '1800': 1269, '500': 208}, 'flash1212_flash1800_flash504_flash505': {'1212-1800-504-505': 21, '1212-1800-504': 45, '1212-1800-505': 159, '1212-504-505': 15, '1800-504-505': 13, '1212-1800': 229, '1212-504': 54, '1212-505': 146, '1800-504': 93, '1800-505': 39, '504-505': 13, '1212': 578, '1800': 1198, '504': 378, '505': 95}, 'flash1212_flash1800_flash504': {'1212-1800-504': 66, '1212-1800': 388, '1212-504': 69, '1800-504': 106, '1212': 724, '1800': 1237, '504': 391}, 'flash1212_flash1800_flash505': {'1212-1800-505': 180, '1212-1800': 274, '1212-505': 161, '1800-505': 52, '1212': 632, '1800': 1291, '505': 108}, 'flash1212_flash1800': {'1212-1800': 454, '1212': 793, '1800': 1343}, 'flash1212_flash400_flash4000_flash500_flash504_flash505': {'1212-400-4000-500-504-505': 1, '1212-400-4000-500-504': 7, '1212-400-4000-500-505': 7, '1212-400-4000-504-505': 4, '1212-4000-500-504-505': 4, '1212-400-4000-500': 14, '1212-400-4000-504': 9, '1212-400-4000-505': 12, '1212-400-500-505': 3, '1212-4000-500-504': 24, '1212-4000-500-505': 32, '1212-4000-504-505': 12, '1212-500-504-505': 4, '400-4000-500-504': 1, '400-4000-500-505': 2, '400-4000-504-505': 2, '4000-500-504-505': 3, '1212-400-4000': 34, '1212-400-500': 2, '1212-400-505': 9, '1212-4000-500': 64, '1212-4000-504': 44, '1212-4000-505': 68, '1212-500-504': 1, '1212-500-505': 32, '1212-504-505': 11, '400-4000-500': 10, '400-4000-504': 17, '400-4000-505': 7, '400-500-505': 1, '4000-500-504': 15, '4000-500-505': 8, '4000-504-505': 11, '500-504-505': 2, '1212-400': 12, '1212-4000': 308, '1212-500': 24, '1212-504': 14, '1212-505': 142, '400-4000': 88, '400-500': 4, '400-504': 9, '400-505': 5, '4000-500': 81, '4000-504': 170, '4000-505': 31, '500-504': 9, '500-505': 6, '504-505': 8, '1212': 349, '400': 144, '4000': 2445, '500': 140, '504': 250, '505': 74}, 'flash1212_flash400_flash4000_flash500_flash504': {'1212-400-4000-500-504': 8, '1212-400-4000-500': 21, '1212-400-4000-504': 13, '1212-4000-500-504': 28, '400-4000-500-504': 1, '1212-400-4000': 46, '1212-400-500': 5, '1212-4000-500': 96, '1212-4000-504': 56, '1212-500-504': 5, '400-4000-500': 12, '400-4000-504': 19, '4000-500-504': 18, '1212-400': 21, '1212-4000': 376, '1212-500': 56, '1212-504': 25, '400-4000': 95, '400-500': 5, '400-504': 9, '4000-500': 89, '4000-504': 181, '500-504': 11, '1212': 491, '400': 149, '4000': 2476, '500': 146, '504': 258}, 'flash1212_flash400_flash4000_flash500_flash505': {'1212-400-4000-500-505': 8, '1212-400-4000-500': 21, '1212-400-4000-505': 16, '1212-400-500-505': 3, '1212-4000-500-505': 36, '400-4000-500-505': 2, '1212-400-4000': 43, '1212-400-500': 2, '1212-400-505': 9, '1212-4000-500': 88, '1212-4000-505': 80, '1212-500-505': 36, '400-4000-500': 11, '400-4000-505': 9, '400-500-505': 1, '4000-500-505': 11, '1212-400': 12, '1212-4000': 352, '1212-500': 25, '1212-505': 153, '400-4000': 105, '400-500': 4, '400-505': 5, '4000-500': 96, '4000-505': 42, '500-505': 8, '1212': 363, '400': 153, '4000': 2615, '500': 149, '505': 82}, 'flash1212_flash400_flash4000_flash500': {'1212-400-4000-500': 29, '1212-400-4000': 59, '1212-400-500': 5, '1212-4000-500': 124, '400-4000-500': 13, '1212-400': 21, '1212-4000': 432, '1212-500': 61, '400-4000': 114, '400-500': 5, '4000-500': 107, '1212': 516, '400': 158, '4000': 2657, '500': 157}, 'flash1212_flash400_flash4000_flash504_flash505': {'1212-400-4000-504-505': 5, '1212-400-4000-504': 16, '1212-400-4000-505': 19, '1212-4000-504-505': 16, '400-4000-504-505': 2, '1212-400-4000': 48, '1212-400-505': 12, '1212-4000-504': 68, '1212-4000-505': 100, '1212-504-505': 15, '400-4000-504': 18, '400-4000-505': 9, '4000-504-505': 14, '1212-400': 14, '1212-4000': 372, '1212-504': 15, '1212-505': 174, '400-4000': 98, '400-504': 9, '400-505': 6, '4000-504': 185, '4000-505': 39, '504-505': 10, '1212': 373, '400': 148, '4000': 2526, '504': 259, '505': 80}, 'flash1212_flash400_flash4000_flash504': {'1212-400-4000-504': 21, '1212-400-4000': 67, '1212-4000-504': 84, '400-4000-504': 20, '1212-400': 26, '1212-4000': 472, '1212-504': 30, '400-4000': 107, '400-504': 9, '4000-504': 199, '1212': 547, '400': 154, '4000': 2565, '504': 269}, 'flash1212_flash400_flash4000_flash505': {'1212-400-4000-505': 24, '1212-400-4000': 64, '1212-400-505': 12, '1212-4000-505': 116, '400-4000-505': 11, '1212-400': 14, '1212-4000': 440, '1212-505': 189, '400-4000': 116, '400-505': 6, '4000-505': 53, '1212': 388, '400': 157, '4000': 2711, '505': 90}, 'flash1212_flash400_flash4000': {'1212-400-4000': 88, '1212-400': 26, '1212-4000': 556, '400-4000': 127, '1212': 577, '400': 163, '4000': 2764}, 'flash1212_flash400_flash500_flash504_flash505': {'1212-400-500-504-505': 1, '1212-400-500-504': 7, '1212-400-500-505': 10, '1212-400-504-505': 4, '1212-500-504-505': 8, '1212-400-500': 16, '1212-400-504': 9, '1212-400-505': 21, '1212-500-504': 25, '1212-500-505': 64, '1212-504-505': 23, '400-500-504': 1, '400-500-505': 3, '400-504-505': 2, '500-504-505': 5, '1212-400': 46, '1212-500': 88, '1212-504': 58, '1212-505': 210, '400-500': 14, '400-504': 26, '400-505': 12, '500-504': 24, '500-505': 14, '504-505': 19, '1212': 657, '400': 232, '500': 221, '504': 420, '505': 105}, 'flash1212_flash400_flash500_flash504': {'1212-400-500-504': 8, '1212-400-500': 26, '1212-400-504': 13, '1212-500-504': 33, '400-500-504': 1, '1212-400': 67, '1212-500': 152, '1212-504': 81, '400-500': 17, '400-504': 28, '500-504': 29, '1212': 867, '400': 244, '500': 235, '504': 439}, 'flash1212_flash400_flash500_flash505': {'1212-400-500-505': 11, '1212-400-500': 23, '1212-400-505': 25, '1212-500-505': 72, '400-500-505': 3, '1212-400': 55, '1212-500': 113, '1212-505': 233, '400-500': 15, '400-505': 14, '500-505': 19, '1212': 715, '400': 258, '500': 245, '505': 124}, 'flash1212_flash400_flash500': {'1212-400-500': 34, '1212-400': 80, '1212-500': 185, '400-500': 18, '1212': 948, '400': 272, '500': 264}, 'flash1212_flash400_flash504_flash505': {'1212-400-504-505': 5, '1212-400-504': 16, '1212-400-505': 31, '1212-504-505': 31, '400-504-505': 2, '1212-400': 62, '1212-504': 83, '1212-505': 274, '400-504': 27, '400-505': 15, '504-505': 24, '1212': 745, '400': 246, '504': 444, '505': 119}, 'flash1212_flash400_flash504': {'1212-400-504': 21, '1212-400': 93, '1212-504': 114, '400-504': 29, '1212': 1019, '400': 261, '504': 468}, 'flash1212_flash400_flash505': {'1212-400-505': 36, '1212-400': 78, '1212-505': 305, '400-505': 17, '1212': 828, '400': 273, '505': 143}, 'flash1212_flash400': {'1212-400': 114, '1212': 1133, '400': 290}, 'flash1212_flash4000_flash500_flash504_flash505': {'1212-4000-500-504-505': 5, '1212-4000-500-504': 31, '1212-4000-500-505': 39, '1212-4000-504-505': 16, '1212-500-504-505': 4, '4000-500-504-505': 3, '1212-4000-500': 78, '1212-4000-504': 53, '1212-4000-505': 80, '1212-500-504': 1, '1212-500-505': 35, '1212-504-505': 11, '4000-500-504': 16, '4000-500-505': 10, '4000-504-505': 13, '500-504-505': 2, '1212-4000': 342, '1212-500': 26, '1212-504': 14, '1212-505': 151, '4000-500': 91, '4000-504': 187, '4000-505': 38, '500-504': 9, '500-505': 7, '504-505': 8, '1212': 361, '4000': 2533, '500': 144, '504': 259, '505': 79}, 'flash1212_flash4000_flash500_flash504': {'1212-4000-500-504': 36, '1212-4000-500': 117, '1212-4000-504': 69, '1212-500-504': 5, '4000-500-504': 19, '1212-4000': 422, '1212-500': 61, '1212-504': 25, '4000-500': 101, '4000-504': 200, '500-504': 11, '1212': 512, '4000': 2571, '500': 151, '504': 267}, 'flash1212_flash4000_flash500_flash505': {'1212-4000-500-505': 44, '1212-4000-500': 109, '1212-4000-505': 96, '1212-500-505': 39, '4000-500-505': 13, '1212-4000': 395, '1212-500': 27, '1212-505': 162, '4000-500': 107, '4000-505': 51, '500-505': 9, '1212': 375, '4000': 2720, '500': 153, '505': 87}, 'flash1212_flash4000_flash500': {'1212-4000-500': 153, '1212-4000': 491, '1212-500': 66, '4000-500': 120, '1212': 537, '4000': 2771, '500': 162}, 'flash1212_flash4000_flash504_flash505': {'1212-4000-504-505': 21, '1212-4000-504': 84, '1212-4000-505': 119, '1212-504-505': 15, '4000-504-505': 16, '1212-4000': 420, '1212-504': 15, '1212-505': 186, '4000-504': 203, '4000-505': 48, '504-505': 10, '1212': 387, '4000': 2624, '504': 268, '505': 86}, 'flash1212_flash4000_flash504': {'1212-4000-504': 105, '1212-4000': 539, '1212-504': 30, '4000-504': 219, '1212': 573, '4000': 2672, '504': 278}, 'flash1212_flash4000_flash505': {'1212-4000-505': 140, '1212-4000': 504, '1212-505': 201, '4000-505': 64, '1212': 402, '4000': 2827, '505': 96}, 'flash1212_flash4000': {'1212-4000': 644, '1212': 603, '4000': 2891}, 'flash1212_flash500_flash504_flash505': {'1212-500-504-505': 9, '1212-500-504': 32, '1212-500-505': 74, '1212-504-505': 27, '500-504-505': 5, '1212-500': 104, '1212-504': 67, '1212-505': 231, '500-504': 25, '500-505': 17, '504-505': 21, '1212': 703, '500': 235, '504': 446, '505': 117}, 'flash1212_flash500_flash504': {'1212-500-504': 41, '1212-500': 178, '1212-504': 94, '500-504': 30, '1212': 934, '500': 252, '504': 467}, 'flash1212_flash500_flash505': {'1212-500-505': 83, '1212-500': 136, '1212-505': 258, '500-505': 22, '1212': 770, '500': 260, '505': 138}, 'flash1212_flash500': {'1212-500': 219, '1212': 1028, '500': 282}, 'flash1212_flash504_flash505': {'1212-504-505': 36, '1212-504': 99, '1212-505': 305, '504-505': 26, '1212': 807, '504': 471, '505': 134}, 'flash1212_flash504': {'1212-504': 135, '1212': 1112, '504': 497}, 'flash1212_flash505': {'1212-505': 341, '1212': 906, '505': 160}, 'flash1212': {'1212': 1247}, 'flash1800_flash400_flash4000_flash500_flash504_flash505': {'1800-400-4000-500-504': 5, '1800-400-4000-500-505': 6, '1800-400-4000-504-505': 4, '1800-4000-500-504-505': 3, '400-4000-500-504-505': 1, '1800-400-4000-500': 10, '1800-400-4000-504': 13, '1800-400-4000-505': 7, '1800-400-500-505': 3, '1800-4000-500-504': 20, '1800-4000-500-505': 25, '1800-4000-504-505': 14, '1800-500-504-505': 4, '400-4000-500-504': 3, '400-4000-500-505': 3, '400-4000-504-505': 2, '4000-500-504-505': 4, '1800-400-4000': 39, '1800-400-500': 2, '1800-400-504': 4, '1800-400-505': 5, '1800-4000-500': 44, '1800-4000-504': 52, '1800-4000-505': 50, '1800-500-504': 1, '1800-500-505': 26, '1800-504-505': 9, '400-4000-500': 14, '400-4000-504': 13, '400-4000-505': 12, '400-500-505': 1, '4000-500-504': 19, '4000-500-505': 15, '4000-504-505': 9, '500-504-505': 2, '1800-400': 29, '1800-4000': 401, '1800-500': 41, '1800-504': 43, '1800-505': 76, '400-4000': 83, '400-500': 4, '400-504': 5, '400-505': 9, '4000-500': 101, '4000-504': 162, '4000-505': 49, '500-504': 9, '500-505': 12, '504-505': 10, '1800': 861, '400': 127, '4000': 2352, '500': 123, '504': 221, '505': 140}, 'flash1800_flash400_flash4000_flash500_flash504': {'1800-400-4000-500-504': 5, '1800-400-4000-500': 16, '1800-400-4000-504': 17, '1800-4000-500-504': 23, '400-4000-500-504': 4, '1800-400-4000': 46, '1800-400-500': 5, '1800-400-504': 4, '1800-4000-500': 69, '1800-4000-504': 66, '1800-500-504': 5, '400-4000-500': 17, '400-4000-504': 15, '4000-500-504': 23, '1800-400': 34, '1800-4000': 451, '1800-500': 67, '1800-504': 52, '400-4000': 95, '400-500': 5, '400-504': 5, '4000-500': 116, '4000-504': 171, '500-504': 11, '1800': 937, '400': 136, '4000': 2401, '500': 135, '504': 231}, 'flash1800_flash400_flash4000_flash500_flash505': {'1800-400-4000-500-505': 6, '1800-400-4000-500': 15, '1800-400-4000-505': 11, '1800-400-500-505': 3, '1800-4000-500-505': 28, '400-4000-500-505': 4, '1800-400-4000': 52, '1800-400-500': 2, '1800-400-505': 5, '1800-4000-500': 64, '1800-4000-505': 64, '1800-500-505': 30, '400-4000-500': 17, '400-4000-505': 14, '400-500-505': 1, '4000-500-505': 19, '1800-400': 33, '1800-4000': 453, '1800-500': 42, '1800-505': 85, '400-4000': 96, '400-500': 4, '400-505': 9, '4000-500': 120, '4000-505': 58, '500-505': 14, '1800': 904, '400': 132, '4000': 2514, '500': 132, '505': 150}, 'flash1800_flash400_flash4000_flash500': {'1800-400-4000-500': 21, '1800-400-4000': 63, '1800-400-500': 5, '1800-4000-500': 92, '400-4000-500': 21, '1800-400': 38, '1800-4000': 517, '1800-500': 72, '400-4000': 110, '400-500': 5, '4000-500': 139, '1800': 989, '400': 141, '4000': 2572, '500': 146}, 'flash1800_flash400_flash4000_flash504_flash505': {'1800-400-4000-504-505': 4, '1800-400-4000-504': 18, '1800-400-4000-505': 13, '1800-4000-504-505': 17, '400-4000-504-505': 3, '1800-400-4000': 49, '1800-400-504': 4, '1800-400-505': 8, '1800-4000-504': 72, '1800-4000-505': 75, '1800-504-505': 13, '400-4000-504': 16, '400-4000-505': 15, '4000-504-505': 13, '1800-400': 31, '1800-4000': 445, '1800-504': 44, '1800-505': 102, '400-4000': 97, '400-504': 5, '400-505': 10, '4000-504': 181, '4000-505': 64, '504-505': 12, '1800': 902, '400': 131, '4000': 2453, '504': 230, '505': 152}, 'flash1800_flash400_flash4000_flash504': {'1800-400-4000-504': 22, '1800-400-4000': 62, '1800-400-504': 4, '1800-4000-504': 89, '400-4000-504': 19, '1800-400': 39, '1800-4000': 520, '1800-504': 57, '400-4000': 112, '400-504': 5, '4000-504': 194, '1800': 1004, '400': 141, '4000': 2517, '504': 242}, 'flash1800_flash400_flash4000_flash505': {'1800-400-4000-505': 17, '1800-400-4000': 67, '1800-400-505': 8, '1800-4000-505': 92, '400-4000-505': 18, '1800-400': 35, '1800-4000': 517, '1800-505': 115, '400-4000': 113, '400-505': 10, '4000-505': 77, '1800': 946, '400': 136, '4000': 2634, '505': 164}, 'flash1800_flash400_flash4000': {'1800-400-4000': 84, '1800-400': 43, '1800-4000': 609, '400-4000': 131, '1800': 1061, '400': 146, '4000': 2711}, 'flash1800_flash400_flash500_flash504_flash505': {'1800-400-500-504': 5, '1800-400-500-505': 9, '1800-400-504-505': 4, '1800-500-504-505': 7, '400-500-504-505': 1, '1800-400-500': 12, '1800-400-504': 17, '1800-400-505': 12, '1800-500-504': 21, '1800-500-505': 51, '1800-504-505': 23, '400-500-504': 3, '400-500-505': 4, '400-504-505': 2, '500-504-505': 6, '1800-400': 68, '1800-500': 85, '1800-504': 95, '1800-505': 126, '400-500': 18, '400-504': 18, '400-505': 21, '500-504': 28, '500-505': 27, '504-505': 19, '1800': 1262, '400': 210, '500': 224, '504': 383, '505': 189}, 'flash1800_flash400_flash500_flash504': {'1800-400-500-504': 5, '1800-400-500': 21, '1800-400-504': 21, '1800-500-504': 28, '400-500-504': 4, '1800-400': 80, '1800-500': 136, '1800-504': 118, '400-500': 22, '400-504': 20, '500-504': 34, '1800': 1388, '400': 231, '500': 251, '504': 402}, 'flash1800_flash400_flash500_flash505': {'1800-400-500-505': 9, '1800-400-500': 17, '1800-400-505': 16, '1800-500-505': 58, '400-500-505': 5, '1800-400': 85, '1800-500': 106, '1800-505': 149, '400-500': 21, '400-505': 23, '500-505': 33, '1800': 1357, '400': 228, '500': 252, '505': 208}, 'flash1800_flash400_flash500': {'1800-400-500': 26, '1800-400': 101, '1800-500': 164, '400-500': 26, '1800': 1506, '400': 251, '500': 285}, 'flash1800_flash400_flash504_flash505': {'1800-400-504-505': 4, '1800-400-504': 22, '1800-400-505': 21, '1800-504-505': 30, '400-504-505': 3, '1800-400': 80, '1800-504': 116, '1800-505': 177, '400-504': 21, '400-505': 25, '504-505': 25, '1800': 1347, '400': 228, '504': 411, '505': 216}, 'flash1800_flash400_flash504': {'1800-400-504': 26, '1800-400': 101, '1800-504': 146, '400-504': 24, '1800': 1524, '400': 253, '504': 436}, 'flash1800_flash400_flash505': {'1800-400-505': 25, '1800-400': 102, '1800-505': 207, '400-505': 28, '1800': 1463, '400': 249, '505': 241}, 'flash1800_flash400': {'1800-400': 127, '1800': 1670, '400': 277}, 'flash1800_flash4000_flash500_flash504_flash505': {'1800-4000-500-504-505': 3, '1800-4000-500-504': 25, '1800-4000-500-505': 31, '1800-4000-504-505': 18, '1800-500-504-505': 4, '4000-500-504-505': 5, '1800-4000-500': 54, '1800-4000-504': 65, '1800-4000-505': 57, '1800-500-504': 1, '1800-500-505': 29, '1800-504-505': 9, '4000-500-504': 22, '4000-500-505': 18, '4000-504-505': 11, '500-504-505': 2, '1800-4000': 440, '1800-500': 43, '1800-504': 47, '1800-505': 81, '4000-500': 115, '4000-504': 175, '4000-505': 61, '500-504': 9, '500-505': 13, '504-505': 10, '1800': 890, '4000': 2435, '500': 127, '504': 226, '505': 149}, 'flash1800_flash4000_flash500_flash504': {'1800-4000-500-504': 28, '1800-4000-500': 85, '1800-4000-504': 83, '1800-500-504': 5, '4000-500-504': 27, '1800-4000': 497, '1800-500': 72, '1800-504': 56, '4000-500': 133, '4000-504': 186, '500-504': 11, '1800': 971, '4000': 2496, '500': 140, '504': 236}, 'flash1800_flash4000_flash500_flash505': {'1800-4000-500-505': 34, '1800-4000-500': 79, '1800-4000-505': 75, '1800-500-505': 33, '4000-500-505': 23, '1800-4000': 505, '1800-500': 44, '1800-505': 90, '4000-500': 137, '4000-505': 72, '500-505': 15, '1800': 937, '4000': 2610, '500': 136, '505': 159}, 'flash1800_flash4000_flash500': {'1800-4000-500': 113, '1800-4000': 580, '1800-500': 77, '4000-500': 160, '1800': 1027, '4000': 2682, '500': 151}, 'flash1800_flash4000_flash504_flash505': {'1800-4000-504-505': 21, '1800-4000-504': 90, '1800-4000-505': 88, '1800-504-505': 13, '4000-504-505': 16, '1800-4000': 494, '1800-504': 48, '1800-505': 110, '4000-504': 197, '4000-505': 79, '504-505': 12, '1800': 933, '4000': 2550, '504': 235, '505': 162}, 'flash1800_flash4000_flash504': {'1800-4000-504': 111, '1800-4000': 582, '1800-504': 61, '4000-504': 213, '1800': 1043, '4000': 2629, '504': 247}, 'flash1800_flash4000_flash505': {'1800-4000-505': 109, '1800-4000': 584, '1800-505': 123, '4000-505': 95, '1800': 981, '4000': 2747, '505': 174}, 'flash1800_flash4000': {'1800-4000': 693, '1800': 1104, '4000': 2842}, 'flash1800_flash500_flash504_flash505': {'1800-500-504-505': 7, '1800-500-504': 26, '1800-500-505': 60, '1800-504-505': 27, '500-504-505': 7, '1800-500': 97, '1800-504': 112, '1800-505': 138, '500-504': 31, '500-505': 31, '504-505': 21, '1800': 1330, '500': 242, '504': 401, '505': 210}, 'flash1800_flash500_flash504': {'1800-500-504': 33, '1800-500': 157, '1800-504': 139, '500-504': 38, '1800': 1468, '500': 273, '504': 422}, 'flash1800_flash500_flash505': {'1800-500-505': 67, '1800-500': 123, '1800-505': 165, '500-505': 38, '1800': 1442, '500': 273, '505': 231}, 'flash1800_flash500': {'1800-500': 190, '1800': 1607, '500': 311}, 'flash1800_flash504_flash505': {'1800-504-505': 34, '1800-504': 138, '1800-505': 198, '504-505': 28, '1800': 1427, '504': 432, '505': 241}, 'flash1800_flash504': {'1800-504': 172, '1800': 1625, '504': 460}, 'flash1800_flash505': {'1800-505': 232, '1800': 1565, '505': 269}, 'flash1800': {'1800': 1797}, 'flash400_flash4000_flash500_flash504_flash505': {'400-4000-500-504-505': 1, '400-4000-500-504': 8, '400-4000-500-505': 9, '400-4000-504-505': 6, '4000-500-504-505': 7, '400-4000-500': 24, '400-4000-504': 26, '400-4000-505': 19, '400-500-505': 4, '4000-500-504': 39, '4000-500-505': 40, '4000-504-505': 23, '500-504-505': 6, '400-4000': 122, '400-500': 6, '400-504': 9, '400-505': 14, '4000-500': 145, '4000-504': 214, '4000-505': 99, '500-504': 10, '500-505': 38, '504-505': 19, '400': 156, '4000': 2753, '500': 164, '504': 264, '505': 216}, 'flash400_flash4000_flash500_flash504': {'400-4000-500-504': 9, '400-4000-500': 33, '400-4000-504': 32, '4000-500-504': 46, '400-4000': 141, '400-500': 10, '400-504': 9, '4000-500': 185, '4000-504': 237, '500-504': 16, '400': 170, '4000': 2852, '500': 202, '504': 283}, 'flash400_flash4000_flash500_flash505': {'400-4000-500-505': 10, '400-4000-500': 32, '400-4000-505': 25, '400-500-505': 4, '4000-500-505': 47, '400-4000': 148, '400-500': 6, '400-505': 14, '4000-500': 184, '4000-505': 122, '500-505': 44, '400': 165, '4000': 2967, '500': 174, '505': 235}, 'flash400_flash4000_flash500': {'400-4000-500': 42, '400-4000': 173, '400-500': 10, '4000-500': 231, '400': 179, '4000': 3089, '500': 218}, 'flash400_flash4000_flash504_flash505': {'400-4000-504-505': 7, '400-4000-504': 34, '400-4000-505': 28, '4000-504-505': 30, '400-4000': 146, '400-504': 9, '400-505': 18, '4000-504': 253, '4000-505': 139, '504-505': 25, '400': 162, '4000': 2898, '504': 274, '505': 254}, 'flash400_flash4000_flash504': {'400-4000-504': 41, '400-4000': 174, '400-504': 9, '4000-504': 283, '400': 180, '4000': 3037, '504': 299}, 'flash400_flash4000_flash505': {'400-4000-505': 35, '400-4000': 180, '400-505': 18, '4000-505': 169, '400': 171, '4000': 3151, '505': 279}, 'flash400_flash4000': {'400-4000': 215, '400': 189, '4000': 3320}, 'flash400_flash500_flash504_flash505': {'400-500-504-505': 1, '400-500-504': 8, '400-500-505': 13, '400-504-505': 6, '500-504-505': 13, '400-500': 30, '400-504': 35, '400-505': 33, '500-504': 49, '500-505': 78, '504-505': 42, '400': 278, '500': 309, '504': 478, '505': 315}, 'flash400_flash500_flash504': {'400-500-504': 9, '400-500': 43, '400-504': 41, '500-504': 62, '400': 311, '500': 387, '504': 520}, 'flash400_flash500_flash505': {'400-500-505': 14, '400-500': 38, '400-505': 39, '500-505': 91, '400': 313, '500': 358, '505': 357}, 'flash400_flash500': {'400-500': 52, '400': 352, '500': 449}, 'flash400_flash504_flash505': {'400-504-505': 7, '400-504': 43, '400-505': 46, '504-505': 55, '400': 308, '504': 527, '505': 393}, 'flash400_flash504': {'400-504': 50, '400': 354, '504': 582}, 'flash400_flash505': {'400-505': 53, '400': 351, '505': 448}, 'flash400': {'400': 404}, 'flash4000_flash500_flash504_flash505': {'4000-500-504-505': 8, '4000-500-504': 47, '4000-500-505': 49, '4000-504-505': 29, '500-504-505': 6, '4000-500': 169, '4000-504': 240, '4000-505': 118, '500-504': 10, '500-505': 42, '504-505': 19, '4000': 2875, '500': 170, '504': 273, '505': 230}, 'flash4000_flash500_flash504': {'4000-500-504': 55, '4000-500': 218, '4000-504': 269, '500-504': 16, '4000': 2993, '500': 212, '504': 292}, 'flash4000_flash500_flash505': {'4000-500-505': 57, '4000-500': 216, '4000-505': 147, '500-505': 48, '4000': 3115, '500': 180, '505': 249}, 'flash4000_flash500': {'4000-500': 273, '4000': 3262, '500': 228}, 'flash4000_flash504_flash505': {'4000-504-505': 37, '4000-504': 287, '4000-505': 167, '504-505': 25, '4000': 3044, '504': 283, '505': 272}, 'flash4000_flash504': {'4000-504': 324, '4000': 3211, '504': 308}, 'flash4000_flash505': {'4000-505': 204, '4000': 3331, '505': 297}, 'flash4000': {'4000': 3535}, 'flash500_flash504_flash505': {'500-504-505': 14, '500-504': 57, '500-505': 91, '504-505': 48, '500': 339, '504': 513, '505': 348}, 'flash500_flash504': {'500-504': 71, '500': 430, '504': 561}, 'flash500_flash505': {'500-505': 105, '500': 396, '505': 396}, 'flash500': {'500': 501}, 'flash504_flash505': {'504-505': 62, '504': 570, '505': 439}, 'flash504': {'504': 632}, 'flash505': {'505': 501}};

const intersections_with_toefl_all = {'flash1212_flash1800_flash400_flash4000_flash500_flash504_flash505': {'toefl': 30.912174097364517, 'flash': 78.47533632286995}, 'flash1212_flash1800_flash400_flash4000_flash500_flash504': {'toefl': 30.59422030664877, 'flash': 78.5131459655485}, 'flash1212_flash1800_flash400_flash4000_flash500_flash505': {'toefl': 30.467038790362466, 'flash': 80.38777032065623}, 'flash1212_flash1800_flash400_flash4000_flash500': {'toefl': 30.13495372005935, 'flash': 80.50207625519064}, 'flash1212_flash1800_flash400_flash4000_flash504_flash505': {'toefl': 30.353988553663534, 'flash': 78.65250823874038}, 'flash1212_flash1800_flash400_flash4000_flash504': {'toefl': 30.02190348336042, 'flash': 78.68518518518519}, 'flash1212_flash1800_flash400_flash4000_flash505': {'toefl': 29.873525047693068, 'flash': 80.64085447263017}, 'flash1212_flash1800_flash400_flash4000': {'toefl': 29.5202430580089, 'flash': 80.7499033629687}, 'flash1212_flash1800_flash400_flash500_flash504_flash505': {'toefl': 18.109234791210344, 'flash': 74.59254947613505}, 'flash1212_flash1800_flash400_flash500_flash504': {'toefl': 17.685296403589344, 'flash': 74.53841572364503}, 'flash1212_flash1800_flash400_flash500_flash505': {'toefl': 16.90807602628418, 'flash': 77.44336569579288}, 'flash1212_flash1800_flash400_flash500': {'toefl': 16.44174379990108, 'flash': 77.51499000666223}, 'flash1212_flash1800_flash400_flash504_flash505': {'toefl': 17.155373419063096, 'flash': 74.43286327406499}, 'flash1212_flash1800_flash400_flash504': {'toefl': 16.69610683247368, 'flash': 74.33155080213903}, 'flash1212_flash1800_flash400_flash505': {'toefl': 15.848230057231682, 'flash': 77.39820565907523}, 'flash1212_flash1800_flash400': {'toefl': 15.332438352292801, 'flash': 77.41705315733142}, 'flash1212_flash1800_flash4000_flash500_flash504_flash505': {'toefl': 30.502366989330884, 'flash': 79.12390029325513}, 'flash1212_flash1800_flash4000_flash500_flash504': {'toefl': 30.17028191902777, 'flash': 79.19139465875371}, 'flash1212_flash1800_flash4000_flash500_flash505': {'toefl': 30.028969123154102, 'flash': 81.10687022900764}, 'flash1212_flash1800_flash4000_flash500': {'toefl': 29.68275277326362, 'flash': 81.25725338491296}, 'flash1212_flash1800_flash4000_flash504_flash505': {'toefl': 29.930050166042534, 'flash': 79.31099045122636}, 'flash1212_flash1800_flash4000_flash504': {'toefl': 29.57676817635837, 'flash': 79.37049677664012}, 'flash1212_flash1800_flash4000_flash505': {'toefl': 29.421324100897337, 'flash': 81.37580613640804}, 'flash1212_flash1800_flash4000': {'toefl': 29.04684519183212, 'flash': 81.51893714059092}, 'flash1212_flash1800_flash500_flash504_flash505': {'toefl': 17.367342612873596, 'flash': 75.46822229045134}, 'flash1212_flash1800_flash500_flash504': {'toefl': 16.88687910690313, 'flash': 75.41811296939098}, 'flash1212_flash1800_flash500_flash505': {'toefl': 16.088461810216916, 'flash': 78.59855022437004}, 'flash1212_flash1800_flash500': {'toefl': 15.558538825690666, 'flash': 78.69907076483203}, 'flash1212_flash1800_flash504_flash505': {'toefl': 16.364021762170566, 'flash': 75.2925877763329}, 'flash1212_flash1800_flash504': {'toefl': 15.834098777644316, 'flash': 75.1761153975176}, 'flash1212_flash1800_flash505': {'toefl': 14.979156362608634, 'flash': 78.57672349888807}, 'flash1212_flash1800': {'toefl': 14.385642619939235, 'flash': 78.61003861003861}, 'flash1212_flash400_flash4000_flash500_flash504_flash505': {'toefl': 27.669045432063875, 'flash': 81.7536534446764}, 'flash1212_flash400_flash4000_flash500_flash504': {'toefl': 27.28043524341129, 'flash': 81.87022900763358}, 'flash1212_flash400_flash4000_flash500_flash505': {'toefl': 27.082597329188157, 'flash': 84.42731277533039}, 'flash1212_flash400_flash4000_flash500': {'toefl': 26.66572458136084, 'flash': 84.65679676985195}, 'flash1212_flash400_flash4000_flash504_flash505': {'toefl': 26.962481452695542, 'flash': 82.06451612903226}, 'flash1212_flash400_flash4000_flash504': {'toefl': 26.538543065074542, 'flash': 82.18818380743983}, 'flash1212_flash400_flash4000_flash505': {'toefl': 26.333639511057726, 'flash': 84.87815987246641}, 'flash1212_flash400_flash4000': {'toefl': 25.867307284674627, 'flash': 85.11973959544292}, 'flash1212_flash400_flash500_flash504_flash505': {'toefl': 12.965449021408888, 'flash': 78.25159914712154}, 'flash1212_flash400_flash500_flash504': {'toefl': 12.379000918533173, 'flash': 78.21428571428571}, 'flash1212_flash400_flash500_flash505': {'toefl': 11.403942627004875, 'flash': 83.84415584415585}, 'flash1212_flash400_flash500': {'toefl': 10.725641206811277, 'flash': 84.28650749583565}, 'flash1212_flash400_flash504_flash505': {'toefl': 11.736027697307991, 'flash': 78.2015065913371}, 'flash1212_flash400_flash504': {'toefl': 11.057726277114392, 'flash': 78.05486284289277}, 'flash1212_flash400_flash505': {'toefl': 10.026142867236628, 'flash': 84.46428571428571}, 'flash1212_flash400': {'toefl': 9.22065993075673, 'flash': 84.90566037735849}, 'flash1212_flash4000_flash500_flash504_flash505': {'toefl': 27.12499116795026, 'flash': 82.6302195436935}, 'flash1212_flash4000_flash500_flash504': {'toefl': 26.715184059916627, 'flash': 82.78957740310926}, 'flash1212_flash4000_flash500_flash505': {'toefl': 26.48908358651876, 'flash': 85.45703214041487}, 'flash1212_flash4000_flash500': {'toefl': 26.051013919310392, 'flash': 85.74418604651163}, 'flash1212_flash4000_flash504_flash505': {'toefl': 26.39016462940719, 'flash': 82.96312749888938}, 'flash1212_flash4000_flash504': {'toefl': 25.93796368261146, 'flash': 83.12952898550725}, 'flash1212_flash4000_flash505': {'toefl': 25.711863209213593, 'flash': 85.94709494567785}, 'flash1212_flash4000': {'toefl': 25.217268423655764, 'flash': 86.24939584340261}, 'flash1212_flash500_flash504_flash505': {'toefl': 11.891471772769025, 'flash': 79.649787032655}, 'flash1212_flash500_flash504': {'toefl': 11.234367271956476, 'flash': 79.65931863727455}, 'flash1212_flash500_flash505': {'toefl': 10.174521302903978, 'flash': 86.38272345530893}, 'flash1212_flash500': {'toefl': 9.411432205186179, 'flash': 87.11576193590582}, 'flash1212_flash504_flash505': {'toefl': 10.563131491556561, 'flash': 79.6059637912673}, 'flash1212_flash504': {'toefl': 9.792976754045078, 'flash': 79.47247706422019}, 'flash1212_flash505': {'toefl': 8.690736946230482, 'flash': 87.42004264392324}, 'flash1212': {'toefl': 7.779269412845333, 'flash': 88.29190056134723}, 'flash1800_flash400_flash4000_flash500_flash504_flash505': {'toefl': 29.477849219246803, 'flash': 78.68728781591852}, 'flash1800_flash400_flash4000_flash500_flash504': {'toefl': 28.785416519465837, 'flash': 78.92289810151104}, 'flash1800_flash400_flash4000_flash500_flash505': {'toefl': 28.98325443368897, 'flash': 80.73213934264909}, 'flash1800_flash400_flash4000_flash500': {'toefl': 28.262559174733273, 'flash': 81.11944838775096}, 'flash1800_flash400_flash4000_flash504_flash505': {'toefl': 28.863138557196354, 'flash': 78.87623093261247}, 'flash1800_flash400_flash4000_flash504': {'toefl': 28.114180739065922, 'flash': 79.15257608911875}, 'flash1800_flash400_flash4000_flash505': {'toefl': 28.326149932876422, 'flash': 81.0062638916953}, 'flash1800_flash400_flash4000': {'toefl': 27.534798275983892, 'flash': 81.44200626959248}, 'flash1800_flash400_flash500_flash504_flash505': {'toefl': 15.18405991662545, 'flash': 72.84745762711864}, 'flash1800_flash400_flash500_flash504': {'toefl': 14.194870345509786, 'flash': 72.76349148859109}, 'flash1800_flash400_flash500_flash505': {'toefl': 13.742669398714053, 'flash': 75.76938059992209}, 'flash1800_flash400_flash500': {'toefl': 12.661626510280506, 'flash': 75.96439169139465}, 'flash1800_flash400_flash504_flash505': {'toefl': 13.891047834381403, 'flash': 72.12032281731474}, 'flash1800_flash400_flash504': {'toefl': 12.739348548011023, 'flash': 71.83266932270917}, 'flash1800_flash400_flash505': {'toefl': 12.273016321627923, 'flash': 75.03239740820734}, 'flash1800_flash400': {'toefl': 10.98706987917756, 'flash': 74.97589199614272}, 'flash1800_flash4000_flash500_flash504_flash505': {'toefl': 29.018582632657388, 'flash': 79.3623188405797}, 'flash1800_flash4000_flash500_flash504': {'toefl': 28.283756094114324, 'flash': 79.6458416235575}, 'flash1800_flash4000_flash500_flash505': {'toefl': 28.49572528792482, 'flash': 81.49121034552435}, 'flash1800_flash4000_flash500': {'toefl': 27.732636190207025, 'flash': 81.94154488517745}, 'flash1800_flash4000_flash504_flash505': {'toefl': 28.375609411432205, 'flash': 79.55625990491284}, 'flash1800_flash4000_flash504': {'toefl': 27.57719211474599, 'flash': 79.88129349160867}, 'flash1800_flash4000_flash505': {'toefl': 27.810358227937538, 'flash': 81.77851651776439}, 'flash1800_flash4000': {'toefl': 26.969547092489226, 'flash': 82.28066393619315}, 'flash1800_flash500_flash504_flash505': {'toefl': 14.237264184271886, 'flash': 73.54014598540147}, 'flash1800_flash500_flash504': {'toefl': 13.120893096869922, 'flash': 73.39920948616601}, 'flash1800_flash500_flash505': {'toefl': 12.689889069455239, 'flash': 76.7849508336896}, 'flash1800_flash500': {'toefl': 11.467533385148025, 'flash': 76.99240986717268}, 'flash1800_flash504_flash505': {'toefl': 12.817070585741538, 'flash': 72.61809447558046}, 'flash1800_flash504': {'toefl': 11.516992863703809, 'flash': 72.2197607443509}, 'flash1800_flash505': {'toefl': 11.07185755670176, 'flash': 75.84704743465635}, 'flash1800': {'toefl': 9.616335759202995, 'flash': 75.73734001112966}, 'flash400_flash4000_flash500_flash504_flash505': {'toefl': 25.740125768388328, 'flash': 82.03107408241387}, 'flash400_flash4000_flash500_flash504': {'toefl': 24.630820320780046, 'flash': 82.50887573964496}, 'flash400_flash4000_flash500_flash505': {'toefl': 25.075955627782097, 'flash': 84.96528609049557}, 'flash400_flash4000_flash500': {'toefl': 23.888928142443298, 'flash': 85.76864535768645}, 'flash400_flash4000_flash504_flash505': {'toefl': 24.878117713558964, 'flash': 82.3240589198036}, 'flash400_flash4000_flash504': {'toefl': 23.53564615275913, 'flash': 82.79890628883918}, 'flash400_flash4000_flash505': {'toefl': 24.164488094396948, 'flash': 85.43592305770672}, 'flash400_flash4000': {'toefl': 22.701900657104503, 'flash': 86.2781954887218}, 'flash400_flash500_flash504_flash505': {'toefl': 8.888574860453614, 'flash': 74.5260663507109}, 'flash400_flash500_flash504': {'toefl': 7.1362961916201515, 'flash': 73.56154406409323}, 'flash400_flash500_flash505': {'toefl': 6.938458277397018, 'flash': 81.15702479338843}, 'flash400_flash500': {'toefl': 4.9671447749593725, 'flash': 82.41500586166471}, 'flash400_flash504_flash505': {'toefl': 7.051508514095952, 'flash': 72.37128353879623}, 'flash400_flash504': {'toefl': 4.79050378011729, 'flash': 68.76267748478702}, 'flash400_flash505': {'toefl': 4.776372500529923, 'flash': 79.34272300469483}, 'flash400': {'toefl': 2.2044796156291953, 'flash': 77.22772277227723}, 'flash4000_flash500_flash504_flash505': {'toefl': 25.118349466544196, 'flash': 82.96382730455076}, 'flash4000_flash500_flash504': {'toefl': 23.93838762099908, 'flash': 83.55117139334155}, 'flash4000_flash500_flash505': {'toefl': 24.40471984738218, 'flash': 86.09172482552343}, 'flash4000_flash500': {'toefl': 23.14703596410655, 'flash': 87.05819824608025}, 'flash4000_flash504_flash505': {'toefl': 24.21394757295273, 'flash': 83.28068043742405}, 'flash4000_flash504': {'toefl': 22.779622694835016, 'flash': 83.8927920895134}, 'flash4000_flash505': {'toefl': 23.450858475234934, 'flash': 86.61273486430062}, 'flash4000': {'toefl': 21.8964177206246, 'flash': 87.66619519094766}, 'flash500_flash504_flash505': {'toefl': 7.503709460891684, 'flash': 75.31914893617021}, 'flash500_flash504': {'toefl': 5.546527238041405, 'flash': 73.91713747645952}, 'flash500_flash505': {'toefl': 5.3345580442309055, 'flash': 84.16945373467112}, 'flash500': {'toefl': 3.1159471490143433, 'flash': 88.02395209580838}, 'flash504_flash505': {'toefl': 5.454673920723521, 'flash': 72.08216619981326}, 'flash504': {'toefl': 2.911043594997527, 'flash': 65.18987341772151}, 'flash505': {'toefl': 2.903977955203844, 'flash': 82.03592814371258}};

// set the dimensions and margins of the graph
const intersections_width = 1200,
    intersections_height = 700,
    intersections_margin = 300;

// The radius of the pieplot is half the intersections_width or half the intersections_height (smallest one). I subtract a bit of intersections_margin.
// const radius = Math.min(intersections_width, intersections_height) / 2 - intersections_margin
const radius = intersections_width / 2 - intersections_margin



// Create dummy data



// set the intersections_color scale
const intersections_color = d3.scaleOrdinal()
  .range(d3.schemeDark2);


// The arc generator
const arc = d3.arc()
  .innerRadius(radius * 0.5)         // This is the size of the donut hole
  .outerRadius(radius * 0.8)

// Another arc that won't be drawn. Just for labels positioning
const outerArc = d3.arc()
  .innerRadius(radius * 0.9)
  .outerRadius(radius * 0.9)


// Compute the position of each group on the pie:
  const pie = d3.pie()
    .sort(null) // Do not sort group by size
    .value(d => d[1])
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

// set the dimensions and margins of the graph
const hardness_margin = {top: 10, right: 30, bottom: 30, left: 60},
    hardness_width = 1200 - hardness_margin.left - hardness_margin.right,
    hardness_height = 600 - hardness_margin.top - hardness_margin.bottom;

// append the svg object to the body of the page
const hardness_svg = d3.select("#hardness_distribution")
  .append("svg")
    .attr("width", hardness_width + hardness_margin.left + hardness_margin.right)
    .attr("height", hardness_height + hardness_margin.top + hardness_margin.bottom)
  .append("g")
    .attr("transform", `translate(${hardness_margin.left},${hardness_margin.top})`);

// List of groups = species here = value of the first column called group -> I show them on the X axis
// rank


// color palette = one color per subgroup
const hardness_color = d3.scaleOrdinal()
  .range(['#DF1313','#16A085'])


//Read the data
d3.csv("x.csv").then(
  function(data) {

    const groups = data.map(d => (d.rank))

    // Add X axis --> it is a bid format
    const hardness_x = d3.scalePow().exponent(0.75)//scaleLinear()
      .domain([0, 30000])
      .range([ 0, hardness_width ]);
    hardness_svg.append("g")
      .attr("transform", `translate(0, ${hardness_height})`)
      .call(d3.axisBottom(hardness_x));

    // Add Y axis
    // name = "flash4000";
    // max1 = d3.max(data, function (d) { return d["flash4000toeflint"]; });
    // max2 = d3.max(data, function (d) { return d["flash4000toefldef"]; });
    // max3 = d3.max(data, function (d) { return d["flash4000"]; });
    // console.log(max1)
    // console.log(max2)
    // console.log(max3)
    var hardness_y = d3.scalePow().exponent(1.)
    .domain([0., 1.1*d3.max(data, function (d) { return +d["flash4000"]; })])
      // .domain([0, 1.1*
      //   Math.max(
      //   d3.max(data, function (d) { return d[name+"toeflint"]; }),
      //   d3.max(data, function (d) { return d[name+"toefldef"]; })
      //   // d3.max(data, function (d) { return d[name]; })
      //   )
        // ])
      .range([ hardness_height, 0 ]);

  // Add a X and Y Axis (Note: orient means the direction that ticks go, not position)
   var hardness_yAxis = d3.axisLeft(hardness_y);
   var hardness_yAxisGroup = hardness_svg.append("g").call(hardness_yAxis);

    // const hardness_y = d3.scalePow().exponent(1.)
    //   .domain([0, 1.2])
    //   .range([ hardness_height, 0 ]);
    // hardness_svg.append("g")
    //   .call(d3.axisLeft(hardness_y));

    // // Add the line
    // hardness_svg.append("path")
    //   .datum(data)
    //   .attr("fill", "none")
    //   .attr("stroke", "steelblue")
    //   .attr("stroke-width", 1.5)
    //   .attr("d", d3.line()
    //     .x(function(d) { return x(d.rank) })
    //     .y(function(d) { return hardness_y(d.eng) })
    //     )

        // Add the line
    // hardness_svg.append("path")
    //   .datum(data)
    //   .attr("fill", "none")
    //   .attr("stroke", "red")
    //   .attr("stroke-width", 3)
    //   .attr("d", d3.line().curve(d3.curveBasis)
    //     .x(function(d) { return x(d.rank) })
    //     .y(function(d) { return hardness_y(d.toefl) })
    //     );




    // var line1 = hardness_svg
    //   .append('g')
    //   .append("path")
    //     .datum(data)
    //     .attr("d", d3.line().curve(d3.curveBasis)
    //     .x(function(d) { return x(d.rank) })
    //     .y(function(d) { return hardness_y(d.flash4000toeflint) })
    //     )
    //     .attr("stroke", "green")
    //     .style("stroke-width", 1)
    //     .style("fill", "none");

    // var line2 = hardness_svg
    //   .append('g')
    //   .append("path")
    //     .datum(data)
    //     .attr("d", d3.line().curve(d3.curveBasis)
    //     .x(function(d) { return x(d.rank) })
    //     .y(function(d) { return hardness_y(d.flash4000toefldef) })
    //     )
    //     .attr("stroke", "red")
    //     .style("stroke-width", 1)
    //     .style("fill", "none");


    // Show the bars
        var line3 = hardness_svg
      .append('g')
      .append("path")
        .datum(data)
        .attr("d", d3.line().curve(d3.curveBasis)
        .x(function(d) { return hardness_x(d.rank) })
        .y(function(d) { return hardness_y(d.flash4000) })
        )
        .attr("stroke", "#AEB6BF")
        .style("stroke-width", 3)
        .style("fill", "none");



    var bars = hardness_svg.append("g")
      .selectAll("g")
      // Enter in the stack data = loop key per key = group per group
      .data(d3.stack().keys(["flash4000toefldef", "flash4000toeflint"])(data))
      .join("g")
        .attr("fill", d => hardness_color(d.key))
        .selectAll("rect")
        // enter a second time = loop subgroup per subgroup to add all rectangles
        .data(d => d)
        .join("rect")
          .attr("x", d => hardness_x(d.data.rank))
          .attr("y", d => hardness_y(d[1]))
          .attr("height", d => hardness_y(d[0]) - hardness_y(d[1]))
          .attr("width",10);
    console.log(bars);


    // // Add the line
    // hardness_svg.append("path")
    //   .datum(data)
    //   .attr("fill", "none")
    //   .attr("stroke", "red")
    //   .attr("stroke-width", 1.5)
    //   .attr("d", d3.line().curve(d3.curveBasis)
    //     .x(function(d) { return x(d.rank) })
    //     .y(function(d) { return hardness_y(d.toefl) })
    //     )
    // hardness_svg.append("circle").attr("cx",800).attr("cy",130).attr("r", 6).style("fill", "red")
    // hardness_svg.append("text").attr("x", 820).attr("y", 130).text("TPO").style("font-size", "15px").attr("alignment-baseline","middle")


     // This function is gonna change the opacity and size of selected and unselected circles
    


//     // Add the line
//     hardness_svg.append("path")
//       .datum(data)
//       .attr("fill", "none")
//       .attr("stroke", "orange")
//       .attr("stroke-width", 1.5)
//       .attr("d", d3.line().curve(d3.curveBasis)
//         .x(function(d) { return hardness_x(d.rank) })
//         .y(function(d) { return hardness_y(d.flash4000) })
//         )
//     hardness_svg.append("circle").attr("cx",800).attr("cy",160).attr("r", 6).style("fill", "orange")
//     hardness_svg.append("text").attr("x", 820).attr("y", 160).text("4000").style("font-size", "15px").attr("alignment-baseline","middle")

//     // Add the line
//     hardness_svg.append("path")
//       .datum(data)
//       .attr("fill", "none")
//       .attr("stroke", "green")
//       .attr("stroke-width", 1.5)
//       .attr("d", d3.line().curve(d3.curveBasis)
//         .x(function(d) { return hardness_x(d.rank) })
//         .y(function(d) { return hardness_y(d.flash504) })
//         )
//     hardness_svg.append("circle").attr("cx",800).attr("cy",190).attr("r", 6).style("fill", "green")
//     hardness_svg.append("text").attr("x", 820).attr("y", 190).text("504").style("font-size", "15px").attr("alignment-baseline","middle")


//     // Add the line
//     hardness_svg.append("path")
//       .datum(data)
//       .attr("fill", "none")
//       .attr("stroke", "pink")
//       .attr("stroke-width", 1.5)
//       .attr("d", d3.line().curve(d3.curveBasis)
//         .x(function(d) { return hardness_x(d.rank) })
//         .y(function(d) { return hardness_y(d.flash505) })
//         )
//     hardness_svg.append("circle").attr("cx",800).attr("cy",220).attr("r", 6).style("fill", "pink")
//     hardness_svg.append("text").attr("x", 820).attr("y", 220).text("505").style("font-size", "15px").attr("alignment-baseline","middle")


//     // Add the line
//     hardness_svg.append("path")
//       .datum(data)
//       .attr("fill", "none")
//       .attr("stroke", "cyan")
//       .attr("stroke-width", 1.5)
//       .attr("d", d3.line().curve(d3.curveBasis)
//         .x(function(d) { return hardness_x(d.rank) })
//         .y(function(d) { return hardness_y(d.flash1212) })
//         )
//     hardness_svg.append("circle").attr("cx",800).attr("cy",250).attr("r", 6).style("fill", "cyan")
//     hardness_svg.append("text").attr("x", 820).attr("y", 250).text("1212").style("font-size", "15px").attr("alignment-baseline","middle")




  // const subgroups = ["flash4000toefldef", "flash4000toeflint"]



  // //stack the data? --> stack per subgroup
  // const stackedData = d3.stack()
  //   .keys(subgroups)
  //   (data)

  // // Show the bars
  // hardness_svg.append("g")
  //   .selectAll("g")
  //   // Enter in the stack data = loop key per key = group per group
  //   .data(stackedData)
  //   .join("g")
  //     .attr("fill", d => hardness_color(d.key))
  //     .selectAll("rect")
  //     // enter a second time = loop subgroup per subgroup to add all rectangles
  //     .data(d => d)
  //     .join("rect")
  //       .attr("x", d => hardness_x(d.data.rank))
  //       .attr("y", d => hardness_y(d[1]))
  //       .attr("height", d => hardness_y(d[0]) - hardness_y(d[1]))
  //       .attr("width",3)



update();


function update(){
      const active_flashcards = [];
      // For each check box:
      d3.selectAll(".checkbox").each(function(d){
        cb = d3.select(this);
        if(cb.property("checked")){
          active_flashcards.push(cb.property("value"))
        }
      })
      active_flashcards.sort();
      name = active_flashcards.join('_');
      console.log(name);


      hardness_y.domain([0., 1.1*d3.max(data, function (d) { return +d[name]; })]);
      hardness_yAxisGroup.transition().duration(1000).call(hardness_yAxis);

      // Add the line
      // svg.append("path")
      //   .datum(data)
      //   .attr("fill", "none")
      //   .attr("stroke", "orange")
      //   .attr("stroke-width", 1.5)
      //   .attr("d", d3.line().curve(d3.curveBasis)
      //     .x(function(d) { return x(d.rank) })
      //     .y(function(d) { return hardness_y(d[name]) })
      //     );
      // hardness_y.domain([0, 1.1*Math.max(
      //   d3.max(data, function (d) { return d[name+"toeflint"]; }),
      //   d3.max(data, function (d) { return d[name+"toefldef"]; }),
      //   d3.max(data, function (d) { return d[name]; })
      //   )])


      // line1
      //     .datum(data)
      //     .transition()
      //     .duration(1000)
      //     .attr("d", d3.line().curve(d3.curveBasis)
      //     .x(function(d) { return hardness_x(d.rank) })
      //     .y(function(d) { return hardness_y(d[name+"toeflint"]) })
      //     )
          
      // line2
      //     .datum(data)
      //     .transition()
      //     .duration(1000)
      //     .attr("d", d3.line().curve(d3.curveBasis)
      //     .x(function(d) { return hardness_x(d.rank) })
      //     .y(function(d) { return hardness_y(d[name+"toefldef"]) })
      //     )
          
      line3
          .datum(data)
          .transition()
          .duration(1000)
          .attr("d", d3.line().curve(d3.curveBasis)
          .x(function(d) { return hardness_x(d.rank) })
          .y(function(d) { return hardness_y(d[name]) })
          )

      bars.remove();
      bars = hardness_svg.append("g")
        .selectAll("g")
        // Enter in the stack data = loop key per key = group per group
        .data(d3.stack().keys([name+"toefldef", name+"toeflint"])(data))
        .join("g")
          .attr("fill", d => hardness_color(d.key))
          .selectAll("rect")
          // enter a second time = loop subgroup per subgroup to add all rectangles
          .data(d => d)
          //   .transition()
          // .duration(1000)
          .join("rect")
            
            .attr("x", d => hardness_x(d.data.rank))
            .attr("y", d => hardness_y(d[1]))
            .attr("height", d => hardness_y(d[0]) - hardness_y(d[1]))
            .attr("width",10);
    
      



  /////////////////////////////////////////////////////////////////////////////////////////////////

  d3.select("#intersections").selectAll("svg").remove();
  // append the intersections_svg object to the div called 'hardness_distribution'
  const intersections_svg = d3.select("#intersections")
  .append("svg")
    .attr("width", intersections_width)
    .attr("height", intersections_height)
  .append("g")
    .attr("transform", `translate(${intersections_width/2},${intersections_height/2})`);

intersections_svg.append("text")
        .attr("dx", function(d){return -70})
        .attr("dy", function(d){return -30})
        .text(Math.round(intersections_with_toefl_all[name]["flash"])+"%").attr('font-size', '5em')
intersections_svg.append("text")
        .attr("dx", function(d){return -100})
        .attr("dy", function(d){return 0})
        .text("of vocabs are in TPO & Zhan").attr('font-size', '1em')
     
intersections_svg.append("text")
        .attr("dx", function(d){return -40})
        .attr("dy", function(d){return 60})
        .text(Math.round(intersections_with_toefl_all[name]["toefl"])+"%").attr('font-size', '3em')
intersections_svg.append("text")
        .attr("dx", function(d){return -95})
        .attr("dy", function(d){return 90})
        .text("of TPOs & Zhan is covered").attr('font-size', '1em')
     
    const data_ready = pie(Object.entries(intersections_data_all[name]))
    // intersections_svg.remove();

 // Build the pie chart: Basically, each part of the pie is a path that we build using the arc function.
intersections_svg
  .selectAll('allSlices')
  .data(data_ready)
  .join('path')
  .attr('d', arc)
  .attr('fill', d => intersections_color(d.data[1]))
  .attr("stroke", "white")
  .style("stroke-width", "2px")
  .style("opacity", 0.7)

// Add the polylines between chart and labels:
intersections_svg
  .selectAll('allPolylines')
  .data(data_ready)
  .join('polyline')
    .attr("stroke", "black")
    .style("fill", "none")
    .attr("stroke-width", 1)
    .attr('points', function(d) {
      const posA = arc.centroid(d) // line insertion in the slice
      const posB = outerArc.centroid(d) // line break: we use the other arc generator that has been built only for that
      const posC = outerArc.centroid(d); // Label position = almost the same as posB
      const midangle = d.startAngle + (d.endAngle - d.startAngle) / 2 // we need the angle to see if the X position will be at the extreme right or extreme left
      posC[0] = radius * 0.95 * (midangle < Math.PI ? 1 : -1); // multiply by 1 or -1 to put it on the right or on the left
      return [posA, posB, posC]
    })

// Add the polylines between chart and labels:
intersections_svg
  .selectAll('allLabels')
  .data(data_ready)
  .join('text').attr('font-size', '0.75em')
    .text(d => d.data[0])
    .attr('transform', function(d) {
        const pos = outerArc.centroid(d);
        const midangle = d.startAngle + (d.endAngle - d.startAngle) / 2
        pos[0] = radius * 0.99 * (midangle < Math.PI ? 1 : -1);
        return `translate(${pos})`;
    })
    .style('text-anchor', function(d) {
        const midangle = d.startAngle + (d.endAngle - d.startAngle) / 2
        return (midangle < Math.PI ? 'start' : 'end')
    })

    
  }

  // When a button change, I run the update function
  d3.selectAll(".checkbox").on("change",update);

  // And I initialize it at the beginning
  // update()


// dynamic chart : http://plnkr.co/edit/sAbnep00GMRkx5Xey6gL?p=preview&preview
});








</script>

